<div class="content__inner">
    <h2>发布帖子/回复</h2>
    <p>
        请使用此 <strong>(<?php echo cl_link("mobile_api/publish_post"); ?>)</strong> API端点发布帖子或回复
    </p>
    <br>
    <h4 class="table-title">POST参数</h4>
    <table class="table table-bordered">
        <thead>
        <tr>
            <th width="15%">字段</th>
            <th width="25%">值</th>
            <th width="45%">说明</th>
        </tr>
        </thead>
        <tbody>
            <tr>
                <td>session_id</td>
                <td>访问令牌ID</td>
                <td>
                    例如: de25cc16eb00960f076...
                </td>
            </tr>
            <tr>
                <td>post_text</td>
                <td>帖子文本消息（最多600字符）</td>
                <td>
                    例如: `Hello world!`
                </td>
            </tr>
            <tr>
                <td>thread_id</td>
                <td>主题ID</td>
                <td>
                    仅回复时需要
                </td>
            </tr>
            <tr>
                <td>gif_src</td>
                <td>GIF图片源URL</td>
                <td>
                    仅当帖子不包含其他媒体文件（视频或图片）时使用
                </td>
            </tr>
            <tr>
                <td>og_data</td>
                <td>从URL提取的OG数据</td>
                <td>
                    仅当帖子不包含其他媒体文件（视频、图片或GIF）时使用
                </td>
            </tr>
            <tr>
                <td>poll_data</td>
                <td>投票JSON数据</td>
                <td>
                    包含投票选项对象的JSON数组。例如: [{"value": "选项1"}, {"value": "选项2"}, {...}]，2到4个选项
                </td>
            </tr>
            <tr>
                <td>privacy</td>
                <td>帖子隐私设置（对帖子回复无效）</td>
                <td>
                    以下值之一 (everyone, followers, mentioned)
                </td>
            </tr>
        </tbody>
    </table>
    <h4 class="table-title">成功响应</h4>
    <div class="code-holder">
        <div class="code-holder-inner">
    <pre><code class="json">{
    	"posts_total": 4048,
    	"data": {
    		"id": 13,
    		"user_id": 7,
    		"text": "video",
    		"type": "text",
    		"replys_count": "0",
    		"reposts_count": "0",
    		"likes_count": "0",
    		"status": "active",
    		"thread_id": 0,
    		"target": "publication",
    		"og_data": "",
    		"time": "刚刚",
    		"advertising": false,
    		"time_raw": "1605602544",
    		"og_text": "video",
    		"og_image": "statics/img/logo.png",
    		"url": "http://colibri.loc/thread/13",
    		"can_delete": true,
    		"media": [],
    		"is_owner": true,
    		"has_liked": false,
    		"has_saved": false,
    		"has_reposted": false,
    		"reply_to": {
    			"id": 7,
    			"url": "http://colibri.loc/@dan_kassing",
    			"avatar": "http://colibri.loc/upload/default/avatar.png",
    			"username": "@dan_kassing",
    			"name": "Dan Kassing",
    			"gender": "M",
    			"is_owner": true,
    			"thread_url": "http://colibri.loc/thread/36"
    		},
    		"offset_id": 13,
    		"owner":{
    			"id": 7,
    			"url": "http://colibri.loc/@dan_kassing",
    			"avatar": "http://colibri.loc/upload/default/avatar.png",
    			"username": "@dan_kassing",
    			"name": "Dan Kassing",
    			"verified": "2"
    		}
    	},
    	"code": 200,
    	"message": "帖子发布成功"
    }
    </code></pre>
        </div>
    </div>
    <h4 class="table-title">错误响应</h4>
    <div class="code-holder">
        <div class="code-holder-inner">
    <pre><code class="json">{
        "code": 401,
        "data": [],
        "message": "未授权访问"
    }

    {
    	"code": 400,
    	"message": "发布数据无效，请检查您的信息",
    	"data": []
    }

    </code></pre>
        </div>
    </div>
</div>