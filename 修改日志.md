# 修改日志

## 2025年修改记录

- **2025年[当前月份]月[当前日期]日**
  - 文件路径: `f:\wmap\www\bbs\themes\default\apps\cpanel\assets\wasabi_s3\content.phtml`
  - 修改内容:
    1. 将页面标题从"Wasabi S3 Storage API settings"修改为"S3兼容存储 API 设置"
    2. 添加功能说明文本: "配置兼容S3协议的云存储服务，如AWS S3、阿里云OSS、腾讯云COS等"
    3. 添加自定义端点URL配置项，支持非AWS S3服务的端点设置
    4. 将所有"Wasabi S3"相关文本替换为更通用的"S3兼容存储"
    5. 调整了表单布局，使新增的自定义端点输入框与其他字段对齐

### 2025-05-20 后端配置修改
- 修改了`core/components/tools.php`文件，将S3存储端点配置更新为使用数据库中新增的自定义端点参数 `ws3_endpoint_url`，并添加了函数注释。
- 修复 `cl_delete_from_wasabi_s3` 函数中的语法错误，移除重复的'region'键和'credentials'数组，确保S3Client配置正确。
- 为 `cl_delete_from_wasabi_s3` 函数添加参数验证，检查 `ws3_endpoint_url` 配置项是否存在。
- 使用数据库中新增的`ws3_endpoint_url`参数构建媒体URL，格式变更为`%s/%s/%s`
- 移除了硬编码的Wasabi域名`s3.%s.wasabisys.com`，支持任意S3兼容存储服务的端点配置